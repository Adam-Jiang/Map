<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>標題</title>
<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/style.css">
<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDY0kkJiTPVd2U7aTOAwhc9ySH6oHxOIYM&sensor=false">
</script>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript" src="main.js"></script>
</head>

<body>

<div class="wrapper">
    
    <header>
    
        <div class="left item">
            <p>DISTANCE</p>
            <h1>6.32 mi</h1>
            <div class="face">
            <img src="images/smile.png" width="24" height="24" alt="good">
            <span class="txt">good</span>
            </div>
        </div>
        <div class="right">
            <div class="item borderB">
                <p>TIME</p>
                <h2>49:15</h2>
            </div>
            <div class="item">
                <p>CALORIES</p>
                <h2>821 cal</h2>
            </div>
        </div>
    
    </header>
    
    <div id="googleMap" style="width:100%;height:500px;"></div>
    
    <div class="btn-wrap">
        <a href="#" class="btn1" onclick="geoFindMe()">START</a><a href="#" class="btn2">PAUSE</a><a href="#" id="setBtn" class="btn2">設定</a>
    </div>

</div>

<div class="settingBox">
<form>
<div class="field">身高：<span class="setin"><input name="" type="text"> 公分</span></div>
<div class="field">體重：<span class="setin"><input name="" type="text"> 公斤</span></div>
<div class="field">目標：<span class="setin"><input name="" type="text"> 公里</span></div>
</form>
<input name="" type="button" class="btn3" value="確定">
</div>

<script>
$(document).ready(function(){
  $("#setBtn").click(function(){
  $(".settingBox").fadeToggle();
  });
});
$(document).ready(function(){
  $(".btn3").click(function(){
  $(".settingBox").fadeToggle();
  });
});

function geoFindMe() {
    if (!navigator.geolocation) {
        output.innerHTML = "<p>你的瀏覽器不支援定位</p>";
        return;
    }

    var watchID = navigator.geolocation.watchPosition(initialize, showError, geoOptions);

    function showError(error) {
        switch (error.code) {
            case error.PERMISSION_DENIED:
                alert("使用者拒絕應用程式取得地理位置。");
                break;
            case error.POSITION_UNAVAILABLE:
                alert("地理位置無法取得。");
                break;
            case error.TIMEOUT:
                alert("取得地理位置超過時限。");
                break;
            case error.UNKNOWN_ERROR:
                alert("未知的錯誤。");
                break;
        }
    }

    var geoOptions = {
        enableHighAccuracy: true, //啟用高精準
        maximumAge: 0, //上一次取得之位置資訊的有效期限,預設為0,單位毫秒
        timeout: 27000 //超過此時間仍未取得位置資訊,將會觸發錯誤事件
    };


    function initialize(position) {

        var myCenter = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
        var stavanger = new google.maps.LatLng(25.023056,121.505278);
        var myOptions = {
            center: myCenter,
            zoom: 15,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        //google.maps.Map(要綁定地圖的DOM元素,地圖的參數)
        var map = new google.maps.Map(document.getElementById("googleMap"), myOptions);

        //Marker標記位置
        var marker = new google.maps.Marker({
            position: myCenter,
            map: map
        });
        //marker.setMap(map); 與map:map一樣

        var myTrip = [myCenter,myCenter];
        var flightPath = new google.maps.Polyline({
            path: myTrip, //座標點陣列
            strokeColor: "#aeaeae",
            strokeOpacity: 0.8,
            strokeWeight: 2
        });
        flightPath.setMap(map);

        google.maps.event.addDomListener(window, 'load', initialize);
    }
}

</script>
</body>
</html>
